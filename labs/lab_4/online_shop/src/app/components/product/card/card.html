<div
  class="bg-white rounded-xl shadow-md border border-gray-100 flex flex-col h-full overflow-hidden hover:shadow-lg transition-all duration-300"
>
  <!-- Image -->
  <div class="h-48 p-4 flex items-center justify-center bg-gray-50 relative">
    <img
      [src]="product.image"
      [alt]="product.name"
      class="max-h-full object-contain mix-blend-multiply"
    />
    <!-- Delete Button (Top Right) -->
    <button
      (click)="deleteProduct()"
      title="Delete"
      class="absolute top-2 right-2 text-gray-400 hover:text-red-500 transition-colors"
    >
      <i class="fas fa-trash"></i> ✖
    </button>
  </div>

  <!-- Content -->
  <div class="p-4 flex-grow flex flex-col">
    <h3 class="font-bold text-gray-800 text-lg leading-tight mb-1">
      <a [href]="product.link" target="_blank" class="hover:text-blue-600">
        {{ product.name }}
      </a>
    </h3>

    <div class="text-sm text-yellow-500 mb-2">★ {{ product.rating }}</div>

    <p class="text-xs text-gray-500 mb-4 line-clamp-3 flex-grow">
      {{ product.description }}
    </p>

    <!-- Price -->
    <div class="text-xl font-bold text-gray-900 mb-3">{{ product.price | number }} ₸</div>

    <!-- Actions -->
    <div class="flex flex-col gap-2 mt-auto">
      <!-- Like Button -->
      <button
        (click)="likeProduct()"
        class="flex items-center justify-center gap-2 w-full py-1.5 rounded-md border border-red-100 text-red-500 hover:bg-red-50 transition-colors"
      >
        <span>❤</span>
        <span class="font-medium">{{ product.likes }} Likes</span>
      </button>

      <!-- Share Buttons -->
      <div class="flex gap-2">
        <button
          (click)="shareProduct('whatsapp')"
          class="flex-1 bg-green-100 text-green-700 py-1.5 rounded-md text-xs font-semibold hover:bg-green-200"
        >
          WhatsApp
        </button>
        <button
          (click)="shareProduct('telegram')"
          class="flex-1 bg-blue-100 text-blue-700 py-1.5 rounded-md text-xs font-semibold hover:bg-blue-200"
        >
          Telegram
        </button>
      </div>
    </div>
  </div>
</div>
